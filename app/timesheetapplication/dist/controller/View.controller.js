sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast","sap/m/MessageBox"],function(e,t,o){"use strict";var a=this;return e.extend("timesheetapplication.controller.View",{onInit:function(){a.component=this.getOwnerComponent().getRouter().initialize();var e=this.getOwnerComponent();a.oGmodel=e.getModel("oGmodel");a.busyDialog=new sap.m.BusyDialog;a.busyDialog.setBusyIndicatorDelay(0);a.busyDialog.setBusyIndicatorSize("Large");a.busyDialog.open();setTimeout(()=>{a.busyDialog.close()},5e3)},onSignUpPress:function(){var e=this.getView();var r=e.byId("emailInput").getValue();var s=e.byId("passwordInput").getValue();var n=this.getOwnerComponent().getModel("oModel");n.refreshMetadata().then(function(){console.log("Metadata refreshed successfully.")}).catch(function(e){console.error("Error refreshing metadata:",e)});if(!r||!s){o.error("Please enter both email and password.");return}var n=this.getView().getModel("oModel");var i={email:r,password:s};n.callFunction("/checkCredentials",{method:"GET",urlParameters:i,success:function(e,r){if(r.data!==true){t.show("Success! Credentials are valid.");a.oGmodel.setData({loggedInUser:{Email:e.EMAILID,FullName:e.FULLNAME,MANAGERFLAG:e.MANAGERFLAG},odata:e});a.component.navTo("Timesheetdata")}else{o.error("Invalid credentials. Please try again.")}},error:function(e){o.error("An error occurred while checking credentials.")}})}})});
//# sourceMappingURL=View.controller.js.map